<%- include('./partials/header', { title: 'Daftar Mahasiswa' }) %>

<div class="bg-white rounded-lg shadow-md p-6">
  <h2 class="text-xl font-semibold mb-4">Daftar Mahasiswa</h2>
  
  <% if (mahasiswas && mahasiswas.length > 0) { %>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white">
        <thead class="bg-gray-100">
          <tr>
            <th class="py-2 px-4 border-b text-left">No</th>
            <th class="py-2 px-4 border-b text-left">Nama</th>
            <th class="py-2 px-4 border-b text-left">NRP</th>
            <th class="py-2 px-4 border-b text-left">Kelas</th>
            <th class="py-2 px-4 border-b text-left">Email</th>
            <th class="py-2 px-4 border-b text-left">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <% mahasiswas.forEach((mahasiswa, index) => { %>
            <tr>
              <td class="py-2 px-4 border-b"><%= index + 1 %></td>
              <td class="py-2 px-4 border-b"><%= mahasiswa.nama %></td>
              <td class="py-2 px-4 border-b"><%= mahasiswa.nrp %></td>
              <td class="py-2 px-4 border-b"><%= mahasiswa.kelas %></td>
              <td class="py-2 px-4 border-b"><%= mahasiswa.email %></td>
              <td class="py-2 px-4 border-b">
                <div class="flex space-x-2">
                  <a href="/edit/<%= mahasiswa.id %>" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600">Edit</a>
                  <a href="/delete/<%= mahasiswa.id %>" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600" onclick="return confirm('Apakah Anda yakin ingin menghapus data ini?')">Hapus</a>
                </div>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  <% } else { %>
    <div class="text-center py-4">
      <p class="text-gray-500">Belum ada data mahasiswa</p>
      <a href="/add" class="mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Tambah Mahasiswa</a>
    </div>
  <% } %>
</div>

<%- include('./partials/footer') %>